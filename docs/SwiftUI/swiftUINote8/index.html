<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">UserDefaults | Hello</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://milk88101524.github.io/milk88101524/my-note/docs/SwiftUI/swiftUINote8"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="UserDefaults | Hello"><meta data-react-helmet="true" name="description" content="---"><meta data-react-helmet="true" property="og:description" content="---"><link data-react-helmet="true" rel="shortcut icon" href="/my-note/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://milk88101524.github.io/milk88101524/my-note/docs/SwiftUI/swiftUINote8"><link data-react-helmet="true" rel="alternate" href="https://milk88101524.github.io/milk88101524/my-note/docs/SwiftUI/swiftUINote8" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://milk88101524.github.io/milk88101524/my-note/docs/SwiftUI/swiftUINote8" hreflang="x-default"><link rel="stylesheet" href="/my-note/assets/css/styles.f446caee.css">
<link rel="preload" href="/my-note/assets/js/runtime~main.6fd330e4.js" as="script">
<link rel="preload" href="/my-note/assets/js/main.e0e4fe40.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my-note/"><b class="navbar__title">Han ã® å­¸ç¿’æ—¥è¨˜</b></a><a class="navbar__item navbar__link navbar__link--active" href="/my-note/docs/intro">Tutorial</a><a href="https://medium.com/@milk88101524" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Han ã® medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/milk88101524/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Han ã® GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kotlin &amp; Compose</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Swift</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">SwiftUI</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote1">SwiftUI Intro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote2">SwiftUI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote3">SwiftUI èˆ‡ Jetpack Compose çš„å·®åˆ¥</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote4">UI Design</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote5">SwiftUI å¸¸ç”¨çš„ Modifier</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote6">SwiftUI åˆ‡æ›é é¢çš„æ–¹æ³•</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote7">æœ¬åœ°å„²å­˜</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote8">UserDefaults</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/my-note/docs/SwiftUI/swiftUINote9">Core Data</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Java Script</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Git</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/my-note/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Basics</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Extras</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>UserDefaults</h1></header><hr><p><code>UserDefaults</code> æ˜¯ä¸€å€‹éå¸¸æ–¹ä¾¿çš„å·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨ iOSã€macOSã€watchOS å’Œ tvOS ä¸Šï¼Œå„²å­˜å°å‹çš„æ‡‰ç”¨ç¨‹åºè¨­ç½®ã€é…ç½®å’Œç”¨æˆ¶è³‡æ–™ã€‚å®ƒæ˜¯ä¸€å€‹éµå€¼å°å„²å­˜ç³»çµ±ï¼Œç”¨ä¾†æŒä¹…åŒ–ä¸€äº›ç°¡å–®çš„è³‡æ–™ï¼Œä¾‹å¦‚å¸ƒæ—å€¼ã€æ•´æ•¸ã€å­—ä¸²ã€é™£åˆ—ã€å­—å…¸ç­‰ç­‰ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="userdefaults-çš„ç”¨é€”"></a>UserDefaults çš„ç”¨é€”<a class="hash-link" href="#userdefaults-çš„ç”¨é€”" title="Direct link to heading">#</a></h2><ul><li>å„²å­˜ç”¨æˆ¶è¨­ç½®ï¼šä¾‹å¦‚æ‡‰ç”¨çš„ä¸»é¡Œã€èªè¨€ã€æ˜¯å¦é–‹å•Ÿé€šçŸ¥ç­‰</li><li>å„²å­˜ç°¡å–®è³‡æ–™ï¼šå¯ä»¥å„²å­˜åƒæ˜¯ç™»å…¥ç‹€æ…‹ã€åå¥½è¨­å®šç­‰</li><li>è¼•é‡çš„æ•¸æ“šå„²å­˜ï¼šé©åˆç”¨ä¾†ä¿å­˜è¼•é‡ä¸”å°å‹çš„è³‡æ–™ï¼Œä½†ä¸é©åˆç”¨ä¾†å­˜å¤§é‡æˆ–é »ç¹è®Šå‹•çš„è³‡æ–™</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="å„²å­˜çš„è³‡æ–™é¡å‹"></a>å„²å­˜çš„è³‡æ–™é¡å‹<a class="hash-link" href="#å„²å­˜çš„è³‡æ–™é¡å‹" title="Direct link to heading">#</a></h2><p><code>UserDefaults</code> æ”¯æ´ä»¥ä¸‹å¸¸è¦‹çš„è³‡æ–™é¡å‹ï¼š</p><ul><li><code>Bool</code> (å¸ƒæ—å€¼)</li><li><code>Int</code> (æ•´æ•¸)</li><li><code>Float</code></li><li><code>Double</code></li><li><code>String</code></li><li><code>URL</code></li><li><code>Array</code> (é™£åˆ—)</li><li><code>Dictionary</code> (å­—å…¸)</li><li><code>Data</code> (äºŒé€²ä½è³‡æ–™)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒ"></a>å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒ<a class="hash-link" href="#å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒ" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="1-å„²å­˜è³‡æ–™"></a>1. å„²å­˜è³‡æ–™<a class="hash-link" href="#1-å„²å­˜è³‡æ–™" title="Direct link to heading">#</a></h3><p>å°‡è³‡æ–™ä»¥éµå€¼å°çš„æ–¹å¼å„²å­˜åˆ° <code>UserDefaults</code>ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let userDefaults = UserDefaults.standard</span></span><span class="token-line" style="color:#393A34"><span class="token plain">userDefaults.set(true, forKey: &quot;isLoggedIn&quot;)  // å„²å­˜å¸ƒæ—å€¼</span></span><span class="token-line" style="color:#393A34"><span class="token plain">userDefaults.set(&quot;John&quot;, forKey: &quot;username&quot;)  // å„²å­˜å­—ä¸²</span></span><span class="token-line" style="color:#393A34"><span class="token plain">userDefaults.set(25, forKey: &quot;age&quot;)           // å„²å­˜æ•´æ•¸</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="2-è®€å–è³‡æ–™"></a>2. è®€å–è³‡æ–™<a class="hash-link" href="#2-è®€å–è³‡æ–™" title="Direct link to heading">#</a></h3><p>å¾ <code>UserDefaults</code> ä¸­è®€å–å·²å„²å­˜çš„è³‡æ–™ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let isLoggedIn = userDefaults.bool(forKey: &quot;isLoggedIn&quot;)  // è®€å–å¸ƒæ—å€¼</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let username = userDefaults.string(forKey: &quot;username&quot;)    // è®€å–å­—ä¸²</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let age = userDefaults.integer(forKey: &quot;age&quot;)             // è®€å–æ•´æ•¸</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="3-åˆªé™¤è³‡æ–™"></a>3. åˆªé™¤è³‡æ–™<a class="hash-link" href="#3-åˆªé™¤è³‡æ–™" title="Direct link to heading">#</a></h3><p>ä¹Ÿå¯ä»¥ç§»é™¤ç‰¹å®šçš„éµå€¼å°ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">userDefaults.removeObject(forKey: &quot;username&quot;)  // åˆªé™¤æŒ‡å®šçš„ key</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="ä½¿ç”¨-codable-å„²å­˜è‡ªè¨‚ç‰©ä»¶"></a>ä½¿ç”¨ Codable å„²å­˜è‡ªè¨‚ç‰©ä»¶<a class="hash-link" href="#ä½¿ç”¨-codable-å„²å­˜è‡ªè¨‚ç‰©ä»¶" title="Direct link to heading">#</a></h2><p>å¦‚æœæƒ³å„²å­˜è¤‡é›œä¸€é»çš„è³‡æ–™é¡å‹ï¼Œä¾‹å¦‚è‡ªè¨‚çš„ç‰©ä»¶çµæ§‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>Codable</code> ä¾†å°‡è³‡æ–™ç·¨ç¢¼ç‚º <code>Data</code> å†å­˜é€² <code>UserDefaults</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ç¯„ä¾‹"></a>ç¯„ä¾‹<a class="hash-link" href="#ç¯„ä¾‹" title="Direct link to heading">#</a></h3><p>ä»¥ä¸‹æ˜¯ä¸€å€‹å°‡è‡ªè¨‚çµæ§‹å„²å­˜åˆ° <code>UserDefaults</code> çš„ç¯„ä¾‹ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">struct Todo: Codable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    var id: String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    var title: String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    var isFinish: Bool</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let todo = Todo(id: &quot;1&quot;, title: &quot;Buy Milk&quot;, isFinish: false)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let userDefaults = UserDefaults.standard</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å°‡ Todo ç·¨ç¢¼æˆ Data å„²å­˜é€² UserDefaults</span></span><span class="token-line" style="color:#393A34"><span class="token plain">if let encodedTodo = try? JSONEncoder().encode(todo) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    userDefaults.set(encodedTodo, forKey: &quot;todo&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¾ UserDefaults ä¸­è®€å–è³‡æ–™</span></span><span class="token-line" style="color:#393A34"><span class="token plain">if let savedTodoData = userDefaults.data(forKey: &quot;todo&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   let decodedTodo = try? JSONDecoder().decode(Todo.self, from: savedTodoData) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(decodedTodo.title)  // è¼¸å‡ºï¼šBuy Milk</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="userdefaults-çš„é™åˆ¶"></a>UserDefaults çš„é™åˆ¶<a class="hash-link" href="#userdefaults-çš„é™åˆ¶" title="Direct link to heading">#</a></h2><ul><li>è³‡æ–™é‡çš„é™åˆ¶ï¼š<code>UserDefaults</code> ä¸é©åˆå­˜æ”¾å¤§è³‡æ–™æˆ–è¤‡é›œæ•¸æ“šï¼Œæ‡‰è©²åªç”¨ä¾†å„²å­˜å°å‹çš„ã€è¼•é‡çš„è¨­å®šæˆ–ç‹€æ…‹ã€‚</li><li>ä¸é©åˆé »ç¹è®Šå‹•çš„æ•¸æ“šï¼šå¦‚æœè³‡æ–™æœƒç¶“å¸¸è®Šå‹•æˆ–éœ€è¦é »ç¹å¯«å…¥ï¼Œä½¿ç”¨è³‡æ–™åº«ï¼ˆå¦‚ Core Data æˆ– SQLiteï¼‰æœƒæ›´é©åˆ</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="ios-çš„-userdefaults-å’Œ-android-çš„-sharedpreferences"></a>iOS çš„ UserDefaults å’Œ Android çš„ SharedPreferences<a class="hash-link" href="#ios-çš„-userdefaults-å’Œ-android-çš„-sharedpreferences" title="Direct link to heading">#</a></h2><p><code>UserDefaults</code> åœ¨ iOS ç³»çµ±ä¸­èˆ‡ Android çš„ <code>SharedPreferences</code> éå¸¸é¡ä¼¼ã€‚å®ƒå€‘çš„åŠŸèƒ½éƒ½ç›¸åŒï¼Œéƒ½æ˜¯ç”¨ä¾†å„²å­˜æ‡‰ç”¨ä¸­çš„è¼•é‡ç´šè³‡æ–™ï¼Œä»¥éµå€¼å°ï¼ˆkey-valueï¼‰çš„æ–¹å¼é€²è¡Œå­˜å–</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ios-çš„-userdefaults-èˆ‡-android-çš„-sharedpreferences-çš„ç›¸ä¼¼é»"></a>iOS çš„ UserDefaults èˆ‡ Android çš„ SharedPreferences çš„ç›¸ä¼¼é»<a class="hash-link" href="#ios-çš„-userdefaults-èˆ‡-android-çš„-sharedpreferences-çš„ç›¸ä¼¼é»" title="Direct link to heading">#</a></h3><ol><li><p>è³‡æ–™å‹æ…‹ï¼š</p><ul><li>å…©è€…éƒ½æ”¯æ´å¸¸è¦‹çš„åŸºæœ¬è³‡æ–™å‹æ…‹ï¼Œå¦‚ <code>String</code>ã€<code>Int</code>ã€<code>Bool</code>ã€<code>Float</code> ç­‰ç­‰</li></ul></li><li><p>å„²å­˜è¼•é‡è³‡æ–™ï¼š</p><ul><li>éƒ½é©åˆç”¨ä¾†å„²å­˜å°å‹çš„æ‡‰ç”¨è¨­å®šå’Œç‹€æ…‹ï¼Œä¾‹å¦‚ç”¨æˆ¶çš„åå¥½è¨­ç½®ã€ç™»å…¥ç‹€æ…‹ã€ä¸»é¡Œé¸æ“‡ç­‰ç­‰ï¼Œä¸é©åˆå„²å­˜å¤§é‡æˆ–è¤‡é›œçš„æ•¸æ“š</li></ul></li><li><p>éµå€¼å°å­˜å–ï¼š</p><ul><li>è³‡æ–™éƒ½ä»¥éµå€¼å°çš„æ–¹å¼é€²è¡Œå­˜å–ã€‚å„²å­˜çš„è³‡æ–™éƒ½æœƒèˆ‡æ‡‰ç”¨é—œè¯ï¼Œä¸¦ä¸”æŒä¹…åŒ–ï¼Œç•¶æ‡‰ç”¨é‡æ–°å•Ÿå‹•å¾Œä¾ç„¶å¯ä»¥å–å›ä¹‹å‰å„²å­˜çš„å€¼</li></ul></li><li><p>è‡ªè¨‚è³‡æ–™å„²å­˜ï¼š</p><ul><li>é›–ç„¶å…©è€…ä¸»è¦å„²å­˜åŸºæœ¬è³‡æ–™å‹æ…‹ï¼Œä½†å¦‚æœéœ€è¦å„²å­˜è¤‡é›œè³‡æ–™çµæ§‹ï¼Œéƒ½å¯ä»¥é€éåºåˆ—åŒ–ï¼ˆå¦‚ JSONï¼‰å°‡è‡ªè¨‚ç‰©ä»¶è½‰æ›æˆ <code>String</code> æˆ– <code>Data</code> ä¾†é€²è¡Œå„²å­˜</li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ios-userdefaults-èˆ‡-android-sharedpreferences-çš„ä½¿ç”¨å°æ¯”"></a>iOS UserDefaults èˆ‡ Android SharedPreferences çš„ä½¿ç”¨å°æ¯”<a class="hash-link" href="#ios-userdefaults-èˆ‡-android-sharedpreferences-çš„ä½¿ç”¨å°æ¯”" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="å„²å­˜èˆ‡è®€å–è³‡æ–™"></a>å„²å­˜èˆ‡è®€å–è³‡æ–™<a class="hash-link" href="#å„²å­˜èˆ‡è®€å–è³‡æ–™" title="Direct link to heading">#</a></h4><p>iOS <code>UserDefaults</code>ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let userDefaults = UserDefaults.standard</span></span><span class="token-line" style="color:#393A34"><span class="token plain">userDefaults.set(&quot;John&quot;, forKey: &quot;username&quot;)  // å„²å­˜</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let username = userDefaults.string(forKey: &quot;username&quot;)  // è®€å–</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Android <code>SharedPreferences</code>ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">val sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val editor = sharedPreferences.edit()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">editor.putString(&quot;username&quot;, &quot;John&quot;)  // å„²å­˜</span></span><span class="token-line" style="color:#393A34"><span class="token plain">editor.apply()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val username = sharedPreferences.getString(&quot;username&quot;, &quot;&quot;)  // è®€å–</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="å„²å­˜è‡ªè¨‚ç‰©ä»¶"></a>å„²å­˜è‡ªè¨‚ç‰©ä»¶<a class="hash-link" href="#å„²å­˜è‡ªè¨‚ç‰©ä»¶" title="Direct link to heading">#</a></h4><p>iOS <code>UserDefaults</code>ï¼š éœ€è¦å°‡ç‰©ä»¶ç·¨ç¢¼ç‚º <code>Data</code>ï¼ˆä½¿ç”¨ <code>Codable</code>ï¼‰ï¼Œå†å­˜å…¥ <code>UserDefaults</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">struct User: Codable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    let name: String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    let age: Int</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let user = User(name: &quot;John&quot;, age: 30)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">if let encoded = try? JSONEncoder().encode(user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    userDefaults.set(encoded, forKey: &quot;user&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">if let savedUser = userDefaults.data(forKey: &quot;user&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   let decodedUser = try? JSONDecoder().decode(User.self, from: savedUser) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(decodedUser.name)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Android <code>SharedPreferences</code>ï¼š å¯ä»¥å°‡ç‰©ä»¶åºåˆ—åŒ–ç‚º JSON å­—ä¸²ï¼Œç„¶å¾Œå„²å­˜</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">val user = User(&quot;John&quot;, 30)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val gson = Gson()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val json = gson.toJson(user)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">editor.putString(&quot;user&quot;, json)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">editor.apply()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val jsonString = sharedPreferences.getString(&quot;user&quot;, &quot;&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val savedUser = gson.fromJson(jsonString, User::class.java)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">println(savedUser.name)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ä¸»è¦å·®ç•°é»"></a>ä¸»è¦å·®ç•°é»<a class="hash-link" href="#ä¸»è¦å·®ç•°é»" title="Direct link to heading">#</a></h3><ol><li><p>å­˜å–æ–¹å¼ï¼š</p><ul><li><code>UserDefaults</code> ä¸éœ€è¦ç‰¹åˆ¥æŒ‡å®šæª”æ¡ˆåç¨±ï¼Œæ‰€æœ‰è³‡æ–™éƒ½å­˜å„²åœ¨ç›¸åŒçš„é è¨­è³‡æ–™å¤¾ä¸­ï¼Œè€Œ <code>SharedPreferences</code> å‰‡å¯ä»¥æŒ‡å®šä¸åŒçš„æª”æ¡ˆåç¨±ï¼ˆé€é <code>getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE)</code>ï¼‰ï¼Œæ¯å€‹æ‡‰ç”¨å¯ä»¥æœ‰å¤šå€‹åå¥½æª”æ¡ˆ</li></ul></li><li><p>å¯«å…¥è³‡æ–™çš„æ–¹å¼ï¼š</p><ul><li>åœ¨ Android ä¸­ï¼Œ<code>SharedPreferences</code> éœ€è¦ä½¿ç”¨ <code>editor.apply()</code> æˆ– <code>editor.commit()</code> ä¾†å„²å­˜è³‡æ–™ã€‚è€Œåœ¨ iOS çš„ <code>UserDefaults</code> ä¸­ï¼Œ<code>set</code> æ–¹æ³•ç«‹å³ç”Ÿæ•ˆï¼Œä¸éœ€è¦é¡å¤–çš„æ“ä½œ</li></ul></li><li><p>åŠ å¯†ï¼š</p><ul><li>iOS çš„ <code>UserDefaults</code> æœ¬èº«ä¸æ”¯æ´åŠ å¯†ï¼Œè‹¥éœ€è¦åŠ å¯†ï¼Œå¿…é ˆä½¿ç”¨é¡å¤–çš„æ–¹å¼ä¾†è™•ç†ã€‚è€Œ Android çš„ <code>SharedPreferences</code> æœ‰ <code>EncryptedSharedPreferences</code> å¯ä»¥ç”¨ä¾†å„²å­˜åŠ å¯†è³‡æ–™</li></ul></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/my-note/docs/SwiftUI/swiftUINote7"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« æœ¬åœ°å„²å­˜</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/my-note/docs/SwiftUI/swiftUINote9"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Core Data Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#userdefaults-çš„ç”¨é€”" class="table-of-contents__link">UserDefaults çš„ç”¨é€”</a></li><li><a href="#å„²å­˜çš„è³‡æ–™é¡å‹" class="table-of-contents__link">å„²å­˜çš„è³‡æ–™é¡å‹</a></li><li><a href="#å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒ" class="table-of-contents__link">å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒ</a><ul><li><a href="#1-å„²å­˜è³‡æ–™" class="table-of-contents__link">1. å„²å­˜è³‡æ–™</a></li><li><a href="#2-è®€å–è³‡æ–™" class="table-of-contents__link">2. è®€å–è³‡æ–™</a></li><li><a href="#3-åˆªé™¤è³‡æ–™" class="table-of-contents__link">3. åˆªé™¤è³‡æ–™</a></li></ul></li><li><a href="#ä½¿ç”¨-codable-å„²å­˜è‡ªè¨‚ç‰©ä»¶" class="table-of-contents__link">ä½¿ç”¨ Codable å„²å­˜è‡ªè¨‚ç‰©ä»¶</a><ul><li><a href="#ç¯„ä¾‹" class="table-of-contents__link">ç¯„ä¾‹</a></li></ul></li><li><a href="#userdefaults-çš„é™åˆ¶" class="table-of-contents__link">UserDefaults çš„é™åˆ¶</a></li><li><a href="#ios-çš„-userdefaults-å’Œ-android-çš„-sharedpreferences" class="table-of-contents__link">iOS çš„ UserDefaults å’Œ Android çš„ SharedPreferences</a><ul><li><a href="#ios-çš„-userdefaults-èˆ‡-android-çš„-sharedpreferences-çš„ç›¸ä¼¼é»" class="table-of-contents__link">iOS çš„ UserDefaults èˆ‡ Android çš„ SharedPreferences çš„ç›¸ä¼¼é»</a></li><li><a href="#ios-userdefaults-èˆ‡-android-sharedpreferences-çš„ä½¿ç”¨å°æ¯”" class="table-of-contents__link">iOS UserDefaults èˆ‡ Android SharedPreferences çš„ä½¿ç”¨å°æ¯”</a></li><li><a href="#ä¸»è¦å·®ç•°é»" class="table-of-contents__link">ä¸»è¦å·®ç•°é»</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/my-note/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/my-note/assets/js/runtime~main.6fd330e4.js"></script>
<script src="/my-note/assets/js/main.e0e4fe40.js"></script>
</body>
</html>